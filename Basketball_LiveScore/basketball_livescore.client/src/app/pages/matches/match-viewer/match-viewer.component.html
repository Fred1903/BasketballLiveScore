<!-- match-viewer.component.html -->
<div class="match-container" [ngClass]="matchStatus">
  <!-- Pre-match view -->
  <div *ngIf="matchStatus === 'not_started'" class="pre-match">
    <div class="teams-preview">
      <div class="team-preview">
        <div class="team-logo-placeholder"></div>
        <h2>{{team1.name}}</h2>
      </div>
      <div class="vs">VS</div>
      <div class="team-preview">
        <div class="team-logo-placeholder"></div>
        <h2>{{team2.name}}</h2>
      </div>
    </div>
    <div class="match-info">
      <p class="status">{{getMatchStatusDisplay()}}</p>
    </div>
  </div>

  <!-- Live match view -->
  <div *ngIf="matchStatus !== 'not_started'" class="live-match">
    <!-- Scoreboard -->
    <div class="scoreboard">
      <div class="team-score">
        <h3>{{team1.name}}</h3>
        <div class="score">{{team1.score}}</div>
        <div class="timeouts">Timeouts: {{team1.timeouts}}</div>
      </div>
      <div class="match-status">
        <div class="quarter">Quarter {{quarter}}</div>
        <div class="time" [ngClass]="{'timeout': isTimeout}">
          <span *ngIf="!isTimeout">{{formatTime(time)}}</span>
          <span *ngIf="isTimeout" class="timeout-time">Timeout: {{formatTime(timeoutTime)}}</span>
        </div>
        <div class="status-label">{{getMatchStatusDisplay()}}</div>
      </div>
      <div class="team-score">
        <h3>{{team2.name}}</h3>
        <div class="score">{{team2.score}}</div>
        <div class="timeouts">Timeouts: {{team2.timeouts}}</div>
      </div>
    </div>

    <!-- Teams Container -->
    <div class="teams-container">
      <!-- Team 1 -->
      <div class="team-panel">
        <h3>{{team1.name}}</h3>

        <!-- On Court Players -->
        <div class="players-section">
          <h4>On Court</h4>
          <div class="players-list">
            <div *ngFor="let player of getOnCourtPlayers(team1)"
                 class="player-card"
                 [class.high-fouls]="player.fouls >= 4">
              <div class="player-info">
                <span class="number">#{{player.number}}</span>
                <span class="name">{{player.name}}</span>
              </div>
              <div class="player-stats">
                <span class="points">{{player.points}} PTS</span>
                <span class="fouls">{{player.fouls}} Fouls</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Bench Players -->
        <div class="players-section">
          <h4>Bench</h4>
          <div class="players-list">
            <div *ngFor="let player of getBenchPlayers(team1)"
                 class="player-card"
                 [class.high-fouls]="player.fouls >= 4">
              <div class="player-info">
                <span class="number">#{{player.number}}</span>
                <span class="name">{{player.name}}</span>
              </div>
              <div class="player-stats">
                <span class="points">{{player.points}} PTS</span>
                <span class="fouls">{{player.fouls}} Fouls</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Team 2 -->
      <div class="team-panel">
        <h3>{{team2.name}}</h3>

        <!-- On Court Players -->
        <div class="players-section">
          <h4>On Court</h4>
          <div class="players-list">
            <div *ngFor="let player of getOnCourtPlayers(team2)"
                 class="player-card"
                 [class.high-fouls]="player.fouls >= 4">
              <div class="player-info">
                <span class="number">#{{player.number}}</span>
                <span class="name">{{player.name}}</span>
              </div>
              <div class="player-stats">
                <span class="points">{{player.points}} PTS</span>
                <span class="fouls">{{player.fouls}} Fouls</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Bench Players -->
        <div class="players-section">
          <h4>Bench</h4>
          <div class="players-list">
            <div *ngFor="let player of getBenchPlayers(team2)"
                 class="player-card"
                 [class.high-fouls]="player.fouls >= 4">
              <div class="player-info">
                <span class="number">#{{player.number}}</span>
                <span class="name">{{player.name}}</span>
              </div>
              <div class="player-stats">
                <span class="points">{{player.points}} PTS</span>
                <span class="fouls">{{player.fouls}} Fouls</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent Events -->
    <div class="recent-events">
      <h3>Recent Events</h3>
      <div class="events-list">
        <div *ngFor="let event of recentEvents"
             class="event-item"
             [ngClass]="event.type">
          <span class="event-time">{{event.time}}</span>
          <span class="event-description">{{event.description}}</span>
        </div>
      </div>
    </div>
  </div>
</div>
